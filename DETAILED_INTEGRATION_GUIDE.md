# üéØ –ü–û–®–ê–ì–û–í–ê–Ø –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø GITHUB –†–ï–®–ï–ù–ò–ô –° ONEMOMENT: –ü–û–õ–ù–û–ï –†–£–ö–û–í–û–î–°–¢–í–û

## üìã –°–û–î–ï–†–ñ–ê–ù–ò–ï
1. [–ë–∞–∑–æ–≤–∞—è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–±–∞–∑–æ–≤–∞—è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
2. [–≠–∫—Ä–∞–Ω –∑–∞ –≠–∫—Ä–∞–Ω–æ–º: –î–µ—Ç–∞–ª—å–Ω–∞—è –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è](#—ç–∫—Ä–∞–Ω-–∑–∞-—ç–∫—Ä–∞–Ω–æ–º)
3. [–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ö–æ–¥ –¥–ª—è –ö–∞–∂–¥–æ–≥–æ –ú–æ–¥—É–ª—è](#–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π-–∫–æ–¥)
4. [–°–≤—è–∑–∏ –ú–µ–∂–¥—É –°–∏—Å—Ç–µ–º–∞–º–∏](#—Å–≤—è–∑–∏-–º–µ–∂–¥—É-—Å–∏—Å—Ç–µ–º–∞–º–∏)

---

# üèóÔ∏è –ë–ê–ó–û–í–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

## –®–ê–ì 1: –°–û–ó–î–ê–ù–ò–ï –§–£–ù–î–ê–ú–ï–ù–¢–ê (–î–ï–ù–¨ 1-2)

### 1.1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Ignite

```bash
# –ö–æ–º–∞–Ω–¥–∞ 1: –°–æ–∑–¥–∞—ë–º –ø—Ä–æ–µ–∫—Ç
npx ignite-cli@latest new OneMomentSuperApp

# –í–æ–ø—Ä–æ—Å—ã –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏:
‚úì Would you like to use TypeScript? ‚Üí Yes (–¥–ª—è –Ω–∞—à–∏—Ö —Ç–∏–ø–æ–≤ –∏–∑ –¢–ó)
‚úì What state management? ‚Üí MobX-State-Tree (–¥–ª—è 81 —ç–∫—Ä–∞–Ω–∞)
‚úì What internationalization library? ‚Üí i18n-js (–¥–ª—è –ø—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤)
‚úì Install Reactotron? ‚Üí Yes (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)
```

### 1.2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ –ø–æ—Å–ª–µ Ignite

```
OneMomentSuperApp/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ screens/        # –ó–¥–µ—Å—å –±—É–¥—É—Ç –≤—Å–µ 81 —ç–∫—Ä–∞–Ω
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/       # Screens 001-003 (—É–∂–µ –≥–æ—Ç–æ–≤—ã)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ restaurant/ # Screens 005-032 (28 —ç–∫—Ä–∞–Ω–æ–≤)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hotel/      # Screens 033-042 (10 —ç–∫—Ä–∞–Ω–æ–≤)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ translator/ # Screens 043-047 (5 —ç–∫—Ä–∞–Ω–æ–≤)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ esim/       # Screens 048-051 (5 —ç–∫—Ä–∞–Ω–æ–≤)
‚îÇ   ‚îú‚îÄ‚îÄ models/         # MobX stores –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ services/       # API –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ navigation/     # React Navigation –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```

## –®–ê–ì 2: –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï MODULE FEDERATION (–î–ï–ù–¨ 3-4)

### 2.1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Re.Pack

```bash
# –ö–æ–º–∞–Ω–¥–∞ 2: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Re.Pack
npm install --save-dev @callstack/repack@next

# –ö–æ–º–∞–Ω–¥–∞ 3: –ö–ª–æ–Ω–∏—Ä—É–µ–º Super App Showcase –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞
git clone https://github.com/callstack/super-app-showcase
```

### 2.2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è webpack.config.js

```javascript
// webpack.config.js - –ö–û–ü–ò–†–£–ï–ú –ò–ó super-app-showcase –ò –ê–î–ê–ü–¢–ò–†–£–ï–ú
const Repack = require('@callstack/repack');

module.exports = {
  entry: {
    // –ì–ª–∞–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ OneMoment Host
    main: './app/index.js',
  },
  
  plugins: [
    new Repack.plugins.ModuleFederationPluginV2({
      name: 'OneMomentHost',
      
      // –†–∞–∑–¥–µ–ª—è–µ–º –Ω–∞ 4 –º–∏–∫—Ä–æ-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∫–∞–∫ –≤ –Ω–∞—à–µ–º –¢–ó
      remotes: {
        // Restaurant Module (28 —ç–∫—Ä–∞–Ω–æ–≤)
        restaurant: {
          external: `promise import('restaurant@https://cdn.onemoment.app/restaurant/[contenthash].js')`,
        },
        // Hotel Module (10 —ç–∫—Ä–∞–Ω–æ–≤)  
        hotel: {
          external: `promise import('hotel@https://cdn.onemoment.app/hotel/[contenthash].js')`,
        },
        // Translator Module (5 —ç–∫—Ä–∞–Ω–æ–≤)
        translator: {
          external: `promise import('translator@https://cdn.onemoment.app/translator/[contenthash].js')`,
        },
        // eSIM Module (5 —ç–∫—Ä–∞–Ω–æ–≤)
        esim: {
          external: `promise import('esim@https://cdn.onemoment.app/esim/[contenthash].js')`,
        },
      },
      
      // –û–±—â–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏
      shared: {
        'react': { singleton: true, eager: true },
        'react-native': { singleton: true, eager: true },
        '@nozbe/watermelondb': { singleton: true }, // –ù–∞—à–∞ offline –ë–î
        'ton-crypto': { singleton: true }, // TON –ø–ª–∞—Ç–µ–∂–∏
      },
    }),
  ],
};
```

## –®–ê–ì 3: –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø WATERMELONDB (–î–ï–ù–¨ 5-6)

### 3.1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ WatermelonDB

```bash
# –ö–æ–º–∞–Ω–¥–∞ 4: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º WatermelonDB
npm install @nozbe/watermelondb
npm install --save-dev @babel/plugin-proposal-decorators
```

### 3.2. –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –Ω–∞—à–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤

```javascript
// app/models/database/schema.js
import { appSchema, tableSchema } from '@nozbe/watermelondb';

export default appSchema({
  version: 1,
  tables: [
    // –î–ª—è Restaurant Module (Screen 005-032)
    tableSchema({
      name: 'restaurants',
      columns: [
        { name: 'name', type: 'string' },
        { name: 'qr_code', type: 'string' }, // –î–ª—è Screen 005: QR Scanner
        { name: 'table_number', type: 'number' },
        { name: 'is_active', type: 'boolean' },
        { name: 'created_at', type: 'number' },
      ],
    }),
    
    tableSchema({
      name: 'menu_items',
      columns: [
        { name: 'name', type: 'string' },
        { name: 'description', type: 'string' },
        { name: 'price', type: 'number' },
        { name: 'category_id', type: 'string' }, // –î–ª—è Screen 007: Menu Categories
        { name: 'image_url', type: 'string' },
        { name: 'modifiers', type: 'string', isOptional: true }, // JSON –¥–ª—è Screen 009
      ],
    }),
    
    tableSchema({
      name: 'orders',
      columns: [
        { name: 'restaurant_id', type: 'string' },
        { name: 'table_id', type: 'string' },
        { name: 'items', type: 'string' }, // JSON –¥–ª—è Screen 010: Cart
        { name: 'total_amount', type: 'number' },
        { name: 'payment_method', type: 'string' }, // –î–ª—è Screen 011
        { name: 'ton_transaction_id', type: 'string', isOptional: true }, // –î–ª—è TON
        { name: 'status', type: 'string' },
        { name: 'created_at', type: 'number' },
      ],
    }),
    
    // –î–ª—è Hotel Module (Screen 033-042)
    tableSchema({
      name: 'hotels',
      columns: [
        { name: 'name', type: 'string' },
        { name: 'location', type: 'string' },
        { name: 'rating', type: 'number' },
        { name: 'price_per_night', type: 'number' },
        { name: 'available_rooms', type: 'number' },
      ],
    }),
    
    // –î–ª—è Translator Module (Screen 043-047)
    tableSchema({
      name: 'translations',
      columns: [
        { name: 'source_text', type: 'string' },
        { name: 'translated_text', type: 'string' },
        { name: 'source_lang', type: 'string' },
        { name: 'target_lang', type: 'string' },
        { name: 'created_at', type: 'number' },
      ],
    }),
  ],
});
```

---

# üì± –≠–ö–†–ê–ù –ó–ê –≠–ö–†–ê–ù–û–ú: –î–ï–¢–ê–õ–¨–ù–ê–Ø –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø

## –ú–û–î–£–õ–¨ 1: –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø (Screens 001-003) ‚úÖ

–≠—Ç–∏ —ç–∫—Ä–∞–Ω—ã —É–∂–µ –≥–æ—Ç–æ–≤—ã, –Ω–æ –ø–æ–∫–∞–∂—É –∫–∞–∫ –æ–Ω–∏ —Å–≤—è–∑–∞–Ω—ã —Å Ignite:

```typescript
// app/screens/auth/SplashScreen.tsx - Screen 001
import { observer } from "mobx-react-lite"
import { useStores } from "app/models"
import { Screen } from "app/components"

export const SplashScreen = observer(function SplashScreen() {
  const { authStore } = useStores()
  
  useEffect(() => {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–æ–∫–µ–Ω –∏–∑ WatermelonDB
    authStore.checkAuthStatus()
  }, [])
  
  return (
    <Screen preset="fixed">
      {/* –ê–Ω–∏–º–∞—Ü–∏—è –∏–∑ Ignite */}
      <AnimatedLogo />
      <ProgressBar progress={authStore.loadingProgress} />
    </Screen>
  )
})
```

## –ú–û–î–£–õ–¨ 2: HOME DASHBOARD (Screen 004) üî®

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Module Federation:

```typescript
// app/screens/home/HomeScreen.tsx - Screen 004
import React, { lazy, Suspense } from 'react'
import { observer } from "mobx-react-lite"
import { useStores } from "app/models"

// –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥—É–ª–µ–π —á–µ—Ä–µ–∑ Re.Pack
const RestaurantModule = lazy(() => import('restaurant/App'))
const HotelModule = lazy(() => import('hotel/App'))
const TranslatorModule = lazy(() => import('translator/App'))
const ESIMModule = lazy(() => import('esim/App'))

export const HomeScreen = observer(function HomeScreen({ navigation }) {
  const { userStore } = useStores()
  
  const modules = [
    {
      id: 'restaurant',
      title: '–†–µ—Å—Ç–æ—Ä–∞–Ω—ã',
      icon: 'üçΩÔ∏è',
      screens: 28,
      component: RestaurantModule,
      onPress: () => navigation.navigate('RestaurantQR'), // Screen 005
    },
    {
      id: 'hotel',
      title: '–û—Ç–µ–ª–∏',
      icon: 'üè®',
      screens: 10,
      component: HotelModule,
      onPress: () => navigation.navigate('HotelSearch'), // Screen 033
    },
    {
      id: 'translator',
      title: '–ü–µ—Ä–µ–≤–æ–¥—á–∏–∫',
      icon: 'üåç',
      screens: 5,
      component: TranslatorModule,
      onPress: () => navigation.navigate('VoiceTranslator'), // Screen 043
    },
    {
      id: 'esim',
      title: 'eSIM',
      icon: 'üì±',
      screens: 5,
      component: ESIMModule,
      onPress: () => navigation.navigate('eSIMMarketplace'), // Screen 048
    },
  ]
  
  return (
    <Screen preset="scroll">
      <PersonalizedGreeting name={userStore.name} />
      
      {/* –ö–∞—Ä—Ç–æ—á–∫–∏ –º–æ–¥—É–ª–µ–π */}
      {modules.map(module => (
        <ServiceCard
          key={module.id}
          title={module.title}
          icon={module.icon}
          screensCount={module.screens}
          onPress={module.onPress}
          // –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥—É–ª—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏
          onHover={() => {
            import(`${module.id}/App`)
          }}
        />
      ))}
      
      <PromoBanner />
      <BottomNav />
    </Screen>
  )
})
```

## –ú–û–î–£–õ–¨ 3: RESTAURANT (Screens 005-032) üçΩÔ∏è

### Screen 005: QR Scanner - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å QR-Code-Ordering-System

```typescript
// app/screens/restaurant/QRScannerScreen.tsx - Screen 005
// –ö–û–ü–ò–†–£–ï–ú –ö–û–î –ò–ó: github.com/doublenine99/QR-Code-Ordering-System

import { RNCamera } from 'react-native-camera'
import QRCodeScanner from 'react-native-qrcode-scanner'
import { observer } from "mobx-react-lite"
import { useStores } from "app/models"
import { Database } from '@nozbe/watermelondb'

export const QRScannerScreen = observer(function QRScannerScreen({ navigation }) {
  const { restaurantStore, database } = useStores()
  
  const onQRCodeRead = async (e) => {
    // –§–æ—Ä–º–∞—Ç QR: restaurant_id/table_number
    const [restaurantId, tableNumber] = e.data.split('/')
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤ WatermelonDB
    const restaurant = await database.collections
      .get('restaurants')
      .find(restaurantId)
    
    if (restaurant) {
      // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ store
      restaurantStore.setCurrentRestaurant(restaurant)
      restaurantStore.setTableNumber(tableNumber)
      
      // WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å—Ç–æ–ª—É
      const ws = new WebSocket(`wss://api.onemoment.app/tables/${tableNumber}`)
      ws.onopen = () => {
        navigation.navigate('TableConfirmation') // Screen 006
      }
    }
  }
  
  return (
    <QRCodeScanner
      onRead={onQRCodeRead}
      topContent={<Text>–°–∫–∞–Ω–∏—Ä—É–π—Ç–µ QR –∫–æ–¥ –Ω–∞ —Å—Ç–æ–ª–µ</Text>}
      bottomContent={
        <TouchableOpacity onPress={() => navigation.navigate('ManualTableInput')}>
          <Text>–í–≤–µ—Å—Ç–∏ –Ω–æ–º–µ—Ä —Å—Ç–æ–ª–∞ –≤—Ä—É—á–Ω—É—é</Text>
        </TouchableOpacity>
      }
    />
  )
})
```

### Screen 007: Menu Categories - –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏–∑ food_ordering

```typescript
// app/screens/restaurant/MenuCategoriesScreen.tsx - Screen 007
// –ê–î–ê–ü–¢–ò–†–£–ï–ú –ö–û–î –ò–ó: github.com/adrianhajdin/food_ordering

import { observer } from "mobx-react-lite"
import { useQuery } from '@tanstack/react-query'
import { Database } from '@nozbe/watermelondb'

export const MenuCategoriesScreen = observer(function MenuCategoriesScreen({ navigation }) {
  const { restaurantStore, cartStore } = useStores()
  
  // Offline-first —Å WatermelonDB
  const categories = useQuery({
    queryKey: ['categories', restaurantStore.currentRestaurantId],
    queryFn: async () => {
      // –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–∫–∞–ª—å–Ω—É—é –ë–î
      const localCategories = await database.collections
        .get('menu_categories')
        .query(Q.where('restaurant_id', restaurantStore.currentRestaurantId))
        .fetch()
      
      if (localCategories.length > 0) {
        return localCategories
      }
      
      // –ï—Å–ª–∏ –Ω–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ - –≥—Ä—É–∑–∏–º —Å —Å–µ—Ä–≤–µ—Ä–∞
      const response = await api.get('/menu/categories')
      
      // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ WatermelonDB –¥–ª—è offline
      await database.write(async () => {
        response.data.forEach(cat => {
          await database.collections.get('menu_categories').create(cat)
        })
      })
      
      return response.data
    },
  })
  
  return (
    <Screen preset="scroll">
      <SearchBar />
      <PromoSection />
      
      <CategoryGrid>
        {categories.map(category => (
          <CategoryCard
            key={category.id}
            title={category.name}
            image={category.image}
            itemsCount={category.items_count}
            onPress={() => navigation.navigate('CategoryItems', {
              categoryId: category.id // ‚Üí Screen 008
            })}
          />
        ))}
      </CategoryGrid>
      
      {/* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∫–æ—Ä–∑–∏–Ω—ã */}
      {cartStore.itemsCount > 0 && (
        <CartBadge
          count={cartStore.itemsCount}
          total={cartStore.totalAmount}
          onPress={() => navigation.navigate('Cart')} // ‚Üí Screen 010
        />
      )}
    </Screen>
  )
})
```

### Screen 010: Cart - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Redux-Offline

```typescript
// app/screens/restaurant/CartScreen.tsx - Screen 010
// –ò–°–ü–û–õ–¨–ó–£–ï–ú: github.com/redux-offline/redux-offline

import { observer } from "mobx-react-lite"
import { useOffline } from '@redux-offline/redux-offline'

export const CartScreen = observer(function CartScreen({ navigation }) {
  const { cartStore, paymentStore } = useStores()
  const isOffline = useOffline()
  
  const handleCheckout = async () => {
    if (isOffline) {
      // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∑–∞–∫–∞–∑ –ª–æ–∫–∞–ª—å–Ω–æ
      await database.write(async () => {
        await database.collections.get('pending_orders').create(order => {
          order.items = JSON.stringify(cartStore.items)
          order.total = cartStore.totalAmount
          order.status = 'pending_sync'
        })
      })
      
      Alert.alert('–ó–∞–∫–∞–∑ —Å–æ—Ö—Ä–∞–Ω—ë–Ω', '–ë—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É')
    } else {
      // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Å—Ä–∞–∑—É
      navigation.navigate('PaymentMethodSelection') // ‚Üí Screen 011
    }
  }
  
  return (
    <Screen preset="scroll">
      {cartStore.items.map(item => (
        <CartItem
          key={item.id}
          item={item}
          onIncrease={() => cartStore.increaseQuantity(item.id)}
          onDecrease={() => cartStore.decreaseQuantity(item.id)}
          onRemove={() => cartStore.removeItem(item.id)}
        />
      ))}
      
      <PromoCodeInput onApply={cartStore.applyPromoCode} />
      
      <PriceBreakdown
        subtotal={cartStore.subtotal}
        tax={cartStore.tax}
        discount={cartStore.discount}
        total={cartStore.totalAmount}
      />
      
      <CheckoutButton
        onPress={handleCheckout}
        isOffline={isOffline}
      />
    </Screen>
  )
})
```

### Screen 011-012: TON Payment Integration

```typescript
// app/screens/restaurant/PaymentScreen.tsx - Screen 011-012
// –ò–ù–¢–ï–ì–†–ò–†–£–ï–ú: github.com/ton-core/ton-crypto

import { TonConnect, useTonWallet } from '@tonconnect/ui-react'
import { mnemonicNew, mnemonicToPrivateKey, sign } from 'ton-crypto'
import { observer } from "mobx-react-lite"

export const PaymentScreen = observer(function PaymentScreen({ navigation }) {
  const { cartStore, paymentStore } = useStores()
  const wallet = useTonWallet()
  
  const paymentMethods = [
    {
      id: 'ton',
      name: 'TON Wallet',
      icon: 'üíé',
      handler: handleTONPayment,
    },
    {
      id: 'card',
      name: '–ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞',
      icon: 'üí≥',
      handler: handleCardPayment,
    },
    {
      id: 'apple',
      name: 'Apple Pay',
      icon: 'üçé',
      handler: handleApplePay,
    },
  ]
  
  const handleTONPayment = async () => {
    try {
      // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
      const transaction = {
        to: 'EQD...restaurant_wallet',
        amount: cartStore.totalAmountInTON,
        comment: `Order #${cartStore.orderId}`,
      }
      
      // –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
      const keyPair = await mnemonicToPrivateKey(wallet.mnemonic)
      const signature = sign(transaction, keyPair.secret)
      
      // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ –±–ª–æ–∫—á–µ–π–Ω
      const response = await tonClient.sendTransaction({
        ...transaction,
        signature,
      })
      
      if (response.success) {
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –ë–î
        await database.write(async () => {
          await database.collections.get('orders').create(order => {
            order.ton_transaction_id = response.transactionId
            order.payment_method = 'ton'
            order.status = 'paid'
          })
        })
        
        navigation.navigate('OrderSuccess', {
          transactionId: response.transactionId
        }) // ‚Üí Screen 013
      }
    } catch (error) {
      Alert.alert('–û—à–∏–±–∫–∞ –æ–ø–ª–∞—Ç—ã', error.message)
    }
  }
  
  return (
    <Screen preset="scroll">
      <Text>–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã</Text>
      
      {paymentMethods.map(method => (
        <PaymentMethodCard
          key={method.id}
          name={method.name}
          icon={method.icon}
          onPress={method.handler}
          isSelected={paymentStore.selectedMethod === method.id}
        />
      ))}
      
      {paymentStore.selectedMethod === 'ton' && (
        <TonConnect
          manifestUrl="https://onemoment.app/tonconnect-manifest.json"
          onConnect={handleTONPayment}
        />
      )}
    </Screen>
  )
})
```

## –ú–û–î–£–õ–¨ 4: HOTEL (Screens 033-042) üè®

```typescript
// app/screens/hotel/HotelSearchScreen.tsx - Screen 033
// –ê–¥–∞–ø—Ç–∏—Ä—É–µ–º –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏–∑ Super App Showcase

import { observer } from "mobx-react-lite"
import { Database } from '@nozbe/watermelondb'

export const HotelSearchScreen = observer(function HotelSearchScreen({ navigation }) {
  const { hotelStore } = useStores()
  
  // –ò—Å–ø–æ–ª—å–∑—É–µ–º WatermelonDB –¥–ª—è –∫—ç—à–∞ –ø–æ–∏—Å–∫–æ–≤
  const searchHotels = async (query) => {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫—ç—à
    const cached = await database.collections
      .get('hotel_searches')
      .query(Q.where('query', query))
      .fetch()
    
    if (cached.length > 0 && !isStale(cached[0])) {
      return cached[0].results
    }
    
    // –ó–∞–≥—Ä—É–∂–∞–µ–º –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
    const results = await api.searchHotels(query)
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∫—ç—à
    await database.write(async () => {
      await database.collections.get('hotel_searches').create(search => {
        search.query = query
        search.results = JSON.stringify(results)
        search.timestamp = Date.now()
      })
    })
    
    return results
  }
  
  return (
    <Screen preset="scroll">
      <SearchInput onSearch={searchHotels} />
      <FilterChips />
      <HotelsList hotels={hotelStore.searchResults} />
    </Screen>
  )
})
```

## –ú–û–î–£–õ–¨ 5: TRANSLATOR (Screens 043-047) üåç

```typescript
// app/screens/translator/VoiceTranslatorScreen.tsx - Screen 043
import Voice from '@react-native-voice/voice'
import { observer } from "mobx-react-lite"

export const VoiceTranslatorScreen = observer(function VoiceTranslatorScreen() {
  const { translatorStore } = useStores()
  
  const startRecording = async () => {
    try {
      await Voice.start('ru-RU')
    } catch (e) {
      console.error(e)
    }
  }
  
  Voice.onSpeechResults = async (e) => {
    const text = e.value[0]
    
    // –ü–µ—Ä–µ–≤–æ–¥–∏–º
    const translated = await api.translate({
      text,
      from: 'ru',
      to: 'en'
    })
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é (WatermelonDB)
    await database.write(async () => {
      await database.collections.get('translations').create(translation => {
        translation.source_text = text
        translation.translated_text = translated
        translation.source_lang = 'ru'
        translation.target_lang = 'en'
      })
    })
    
    translatorStore.setTranslation(translated)
  }
  
  return (
    <Screen>
      <VoiceWaveform isRecording={translatorStore.isRecording} />
      <RecordButton onPress={startRecording} />
      <TranslationResult text={translatorStore.translatedText} />
      <TranslationHistory />
    </Screen>
  )
})
```

## –ú–û–î–£–õ–¨ 6: eSIM (Screens 048-051) üì±

```typescript
// app/screens/esim/eSIMMarketplaceScreen.tsx - Screen 048
import { observer } from "mobx-react-lite"

export const eSIMMarketplaceScreen = observer(function eSIMMarketplaceScreen() {
  const { esimStore } = useStores()
  
  const plans = [
    { country: 'Turkey', data: '10GB', days: 30, price: 25 },
    { country: 'Europe', data: '20GB', days: 30, price: 45 },
    { country: 'Asia', data: '15GB', days: 30, price: 35 },
  ]
  
  const purchaseESIM = async (plan) => {
    // –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Airalo API
    const response = await airaloAPI.purchase({
      package_id: plan.id,
      payment_method: 'ton', // –ò—Å–ø–æ–ª—å–∑—É–µ–º TON
    })
    
    if (response.success) {
      // –ê–∫—Ç–∏–≤–∞—Ü–∏—è eSIM
      await activateESIM(response.qr_code)
    }
  }
  
  return (
    <Screen preset="scroll">
      <CountrySelector />
      {plans.map(plan => (
        <eSIMPlanCard
          key={plan.country}
          {...plan}
          onPurchase={() => purchaseESIM(plan)}
        />
      ))}
    </Screen>
  )
})
```

---

# üîó –°–í–Ø–ó–ò –ú–ï–ñ–î–£ –°–ò–°–¢–ï–ú–ê–ú–ò

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è:

```mermaid
graph TD
    A[OneMoment Host App] -->|Module Federation| B[Restaurant Module]
    A -->|Module Federation| C[Hotel Module]
    A -->|Module Federation| D[Translator Module]
    A -->|Module Federation| E[eSIM Module]
    
    B --> F[WatermelonDB]
    C --> F
    D --> F
    E --> F
    
    F -->|Sync| G[PocketBase Backend]
    
    B --> H[TON Blockchain]
    E --> H
    
    B --> I[Redis Cache]
    C --> I
    
    G --> J[n8n Automation]
    J -->|Webhooks| K[External Services]
```

## –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:

```typescript
// app/services/sync.ts
import { synchronize } from '@nozbe/watermelondb/sync'
import { database } from './database'

export async function syncWithBackend() {
  await synchronize({
    database,
    pullChanges: async ({ lastPulledAt }) => {
      const response = await api.get(`/sync/pull?last_pulled_at=${lastPulledAt}`)
      return {
        changes: response.data.changes,
        timestamp: response.data.timestamp
      }
    },
    pushChanges: async ({ changes }) => {
      await api.post('/sync/push', { changes })
    },
  })
}

// –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é
setInterval(syncWithBackend, 30000) // –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
NetInfo.addEventListener(state => {
  if (state.isConnected) {
    syncWithBackend() // —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏
  }
})
```

---

# ‚ö° –ê–í–¢–û–ú–ê–¢–ò–ó–ê–¶–ò–Ø –° n8n

## Workflow –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —ç–∫—Ä–∞–Ω–æ–≤:

```javascript
// n8n workflow: Screen Generator
{
  "name": "OneMoment Screen Generator",
  "nodes": [
    {
      "name": "Webhook",
      "type": "n8n-nodes-base.webhook",
      "parameters": {
        "path": "generate-screen",
        "method": "POST"
      }
    },
    {
      "name": "Parse GitHub Template",
      "type": "n8n-nodes-base.httpRequest",
      "parameters": {
        "url": "https://api.github.com/repos/{{repo}}/contents/{{path}}",
        "method": "GET"
      }
    },
    {
      "name": "Claude API",
      "type": "n8n-nodes-base.httpRequest",
      "parameters": {
        "url": "https://api.anthropic.com/v1/messages",
        "method": "POST",
        "body": {
          "model": "claude-3-opus",
          "messages": [{
            "role": "user",
            "content": "Generate React Native screen based on: {{template}}"
          }]
        }
      }
    },
    {
      "name": "Save to Project",
      "type": "n8n-nodes-base.writeBinaryFile",
      "parameters": {
        "fileName": "app/screens/{{module}}/{{screenName}}.tsx",
        "options": {}
      }
    }
  ]
}
```

---

# üìä –†–ï–ó–£–õ–¨–¢–ê–¢ –ò–ù–¢–ï–ì–†–ê–¶–ò–ò

## –ß—Ç–æ –ø–æ–ª—É—á–∞–µ–º:

```yaml
–†–ê–ó–ú–ï–† –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø:
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
Host App: 6-8MB
‚îú‚îÄ‚îÄ Core (Ignite): 3MB
‚îú‚îÄ‚îÄ Navigation: 1MB
‚îú‚îÄ‚îÄ Auth Screens: 1MB
‚îî‚îÄ‚îÄ Shared Components: 1-3MB

Restaurant Module: 4-5MB
‚îú‚îÄ‚îÄ 28 Screens: 2MB
‚îú‚îÄ‚îÄ QR Logic: 0.5MB
‚îú‚îÄ‚îÄ TON Integration: 0.5MB
‚îî‚îÄ‚îÄ Assets: 1-2MB

Hotel Module: 2-3MB
Translator: 1-2MB
eSIM: 1-2MB

–ò–¢–û–ì–û: 15-20MB ‚úÖ
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

–ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨:
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
–ó–∞–ø—É—Å–∫: <3 —Å–µ–∫ (–∏–∑ –¢–ó) ‚úÖ
–ü–µ—Ä–µ—Ö–æ–¥—ã: <300ms (–∏–∑ –¢–ó) ‚úÖ
FPS: 60 (–∏–∑ –¢–ó) ‚úÖ
Offline: –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ ‚úÖ
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

–í–†–ï–ú–Ø –†–ê–ó–†–ê–ë–û–¢–ö–ò:
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
–ù–µ–¥–µ–ª—è 1: –ë–∞–∑–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
–ù–µ–¥–µ–ª—è 2-4: Restaurant Module (28 —ç–∫—Ä–∞–Ω–æ–≤)
–ù–µ–¥–µ–ª—è 5: Hotel Module (10 —ç–∫—Ä–∞–Ω–æ–≤)
–ù–µ–¥–µ–ª—è 6: Translator + eSIM (10 —ç–∫—Ä–∞–Ω–æ–≤)
–ù–µ–¥–µ–ª—è 7-8: Waiter + Kitchen Apps
–ù–µ–¥–µ–ª—è 9-10: Admin + Service Apps
–ù–µ–¥–µ–ª—è 11-12: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

–ò–¢–û–ì–û: 3 –º–µ—Å—è—Ü–∞ –¥–ª—è 81 —ç–∫—Ä–∞–Ω–∞!
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
```

---

# üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

## –î–µ–Ω—å 1: –ù–∞—á–∏–Ω–∞–µ–º
```bash
npx ignite-cli@latest new OneMomentSuperApp
cd OneMomentSuperApp
git init
git add .
git commit -m "Initial setup with Ignite"
```

## –î–µ–Ω—å 2: –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
```bash
git clone https://github.com/callstack/super-app-showcase ../references/super-app
git clone https://github.com/doublenine99/QR-Code-Ordering-System ../references/qr-system
git clone https://github.com/Nozbe/WatermelonDB ../references/watermelon
```

## –î–µ–Ω—å 3: –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º Module Federation
```bash
npm install @callstack/repack@next
cp ../references/super-app/webpack.config.js ./
# –ê–¥–∞–ø—Ç–∏—Ä—É–µ–º –ø–æ–¥ –Ω–∞—à–∏ 4 –º–æ–¥—É–ª—è
```

## –î–µ–Ω—å 4: –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ–º WatermelonDB
```bash
npm install @nozbe/watermelondb
# –ö–æ–ø–∏—Ä—É–µ–º —Å—Ö–µ–º—É –∏–∑ —ç—Ç–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞
```

## –î–µ–Ω—å 5: –ù–∞—á–∏–Ω–∞–µ–º —Å Restaurant Module
```bash
# –°–æ–∑–¥–∞—ë–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É
mkdir -p app/screens/restaurant
# –ö–æ–ø–∏—Ä—É–µ–º QR scanner –∏–∑ QR-Code-Ordering-System
cp ../references/qr-system/src/QRScanner.js app/screens/restaurant/QRScannerScreen.tsx
# –ê–¥–∞–ø—Ç–∏—Ä—É–µ–º –ø–æ–¥ TypeScript –∏ –Ω–∞—à –ø—Ä–æ–µ–∫—Ç
```

---

**üìå –í–°–Å –ì–û–¢–û–í–û –î–õ–Ø –°–¢–ê–†–¢–ê! –ö–ê–ñ–î–´–ô –®–ê–ì –†–ê–°–ü–ò–°–ê–ù, –ö–û–î –ü–û–ö–ê–ó–ê–ù, –°–í–Ø–ó–ò –û–ë–™–Ø–°–ù–ï–ù–´!**